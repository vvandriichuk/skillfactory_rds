{"paragraphs":[{"text":"%md\n# Ноутбук Виктора Андрийчука\n## для [раздела](https://lms.skillfactory.ru/courses/course-v1:Skillfactory+DST-10+22JAN2020/courseware/19a7384fba25470fa7ea7d38b77939ce/7943693de9264b3a926c1d91285a7ac5/5?activate_block_id=block-v1%3ASkillfactory%2BDST-10%2B22JAN2020%2Btype%40vertical%2Bblock%400a8761ae000848198e6d229ebd583912) 3.8.1. Автоматизация процесса загрузки таблиц\n---\n### Упражнение 1. Создайте утилитный bash-скрипт для копирования таблицы в Hive с использованием sqoop","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:54+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h1>Ноутбук Виктора Андрийчука</h1>\n<h2>для <a href=\"https://lms.skillfactory.ru/courses/course-v1:Skillfactory+DST-10+22JAN2020/courseware/19a7384fba25470fa7ea7d38b77939ce/7943693de9264b3a926c1d91285a7ac5/5?activate_block_id=block-v1%3ASkillfactory%2BDST-10%2B22JAN2020%2Btype%40vertical%2Bblock%400a8761ae000848198e6d229ebd583912\">раздела</a> 3.8.1. Автоматизация процесса загрузки таблиц</h2>\n<hr/>\n<h3>Упражнение 1. Создайте утилитный bash-скрипт для копирования таблицы в Hive с использованием sqoop</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620615956_-187696990","id":"20210329-153659_1541190300","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:17277","dateFinished":"2021-04-05T11:03:54+0000","dateStarted":"2021-04-05T11:03:54+0000"},{"text":"%md\n### 1.1 Создание файла скрипта и запись в него кода","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:35+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>1.1 Создание файла скрипта и запись в него кода</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620615959_2045933577","id":"20210330-044307_620982351","dateCreated":"2021-04-05T11:03:35+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17278"},{"user":"v.andriichuk@gmail.com","config":{"colWidth":12,"fontSize":9,"enabled":true,"results":{},"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"editorMode":"ace/mode/sh","title":true},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1617620758582_-974537149","id":"20210405-110558_558489602","dateCreated":"2021-04-05T11:05:58+0000","status":"ERROR","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:20851","text":"mkdir ./vandriichuk","dateUpdated":"2021-04-05T11:07:59+0000","dateFinished":"2021-04-05T11:07:59+0000","dateStarted":"2021-04-05T11:07:59+0000","title":"1.1.0 Создам директорию","results":{"code":"ERROR","msg":[{"type":"TEXT","data":"mkdir: cannot create directory ‘./vandriichuk’: File exists\n"},{"type":"TEXT","data":"ExitValue: 1"}]}},{"title":"1.1.1 Проверим, что папка пуста","text":"ls -la ./vandriichuk","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:09:13+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true,"editorHide":false},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"total 20\ndrwxr-xr-x.  2 zeppelin zeppelin    28 Apr  5 11:09 .\ndrwxr-xr-x. 32 zeppelin zeppelin 12288 Apr  5 11:06 ..\n-rw-r--r--.  1 zeppelin zeppelin  1020 Apr  5 11:09 sqoopImport.sh\n"}]},"apps":[],"jobName":"paragraph_1617620615961_744194526","id":"20210329-165721_860924387","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17279","dateFinished":"2021-04-05T11:09:13+0000","dateStarted":"2021-04-05T11:09:13+0000"},{"title":"1.1.2 Создадим скрипт с помощью команды cat","text":"cat > ./vandriichuk/sqoopImport.sh <<EOF\n#!/bin/bash\n#___________________________________________________________________________________#\n#                               sqoopImport.sh                                      #\n#-----------------------------------------------------------------------------------#\n# Автор: Андрийчук Виктор (vandriichuk@gmail.com)                                   #\n# Описание скрипта: запускает sqoop, перенаправляет протоколы, проверяет результат  # \n#___________________________________________________________________________________#\n\ntabName=\\$1\ndbName=\\$2\n\necho \"Importing \\$tabName table into database \\$dbName with sqoop import...\"\n\nhdfs dfs -rm -r -f -skipTrash \\$tabName >sqoop_stdout.txt 2>sqoop_stderr.txt\n\nexport JAVA_HOME=\"/usr\"\n/usr/lib/sqoop/bin/sqoop import --connect 'jdbc:mysql://10.93.1.9/skillfactory' --username mysql \\\n--password arenadata --hive-import -m 1 --table \\$tabName \\\n--hive-table \\$dbName.\\$tabName\n        \necho \"Done\" \nEOF","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:09:06+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{"dbName":""},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1617620615964_1313129349","id":"20210329-172330_1901807684","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17280","dateFinished":"2021-04-05T11:09:06+0000","dateStarted":"2021-04-05T11:09:06+0000"},{"title":"1.1.3 Проверим, что всё записалось корректно","text":"cat ./vandriichuk/sqoopImport.sh","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:09:26+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"#!/bin/bash\n#___________________________________________________________________________________#\n#                               sqoopImport.sh                                      #\n#-----------------------------------------------------------------------------------#\n# Автор: Андрийчук Виктор (vandriichuk@gmail.com)                                   #\n# Описание скрипта: запускает sqoop, перенаправляет протоколы, проверяет результат  # \n#___________________________________________________________________________________#\n\ntabName=$1\ndbName=$2\n\necho \"Importing $tabName table into database $dbName with sqoop import...\"\n\nhdfs dfs -rm -r -f -skipTrash $tabName >sqoop_stdout.txt 2>sqoop_stderr.txt\n\nexport JAVA_HOME=\"/usr\"\n/usr/lib/sqoop/bin/sqoop import --connect 'jdbc:mysql://10.93.1.9/skillfactory' --username mysql --password arenadata --hive-import -m 1 --table $tabName --hive-table $dbName.$tabName\n        \necho \"Done\" \n"}]},"apps":[],"jobName":"paragraph_1617620615967_-2031765057","id":"20210329-172239_721828136","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17281","dateFinished":"2021-04-05T11:09:26+0000","dateStarted":"2021-04-05T11:09:26+0000"},{"title":"1.1.4 Добавим разрешения на исполнение файла","text":"chmod 755 ./vandriichuk/sqoopImport.sh","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:09:41+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1617620615969_990584573","id":"20210329-173214_290244871","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17282","dateFinished":"2021-04-05T11:09:41+0000","dateStarted":"2021-04-05T11:09:41+0000"},{"title":"1.1.5 Проверим разрешения скрипта","text":"ls -l ./vandriichuk","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:09:46+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"total 4\n-rwxr-xr-x. 1 zeppelin zeppelin 1020 Apr  5 11:09 sqoopImport.sh\n"}]},"apps":[],"jobName":"paragraph_1617620615972_-562429044","id":"20210329-173254_915656576","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17283","dateFinished":"2021-04-05T11:09:46+0000","dateStarted":"2021-04-05T11:09:46+0000"},{"title":"1.2 Проверим наличие таблицы phones, которую мы собираемся копировать","text":"%mysql\nselect * from skillfactory.phones","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:09:54+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"name":"string","phone":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"name\tphone\nmike\t123456789\npete\t99999999\n"}]},"apps":[],"jobName":"paragraph_1617620615974_-1829290695","id":"20210329-175502_1917307084","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17284","dateFinished":"2021-04-05T11:09:57+0000","dateStarted":"2021-04-05T11:09:54+0000"},{"text":"%md\n### 1.3 Подготовка места, куда будем копировать таблицу","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:35+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>1.3 Подготовка места, куда будем копировать таблицу</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620615977_-114312702","id":"20210330-045524_1596227280","dateCreated":"2021-04-05T11:03:35+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17285"},{"title":"1.3.1 Создаем собственную базу данных","text":"%hive\nDROP DATABASE IF EXISTS vandriichuk;\nCREATE DATABASE IF NOT EXISTS vandriichuk;","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:10:16+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"},{"type":"TEXT","data":"Query executed successfully. Affected rows : -1"}]},"apps":[],"jobName":"paragraph_1617620615980_1227289616","id":"20210329-173319_971031112","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17286","dateFinished":"2021-04-05T11:10:16+0000","dateStarted":"2021-04-05T11:10:16+0000"},{"title":"1.3.2 Проверяем, что база данных создалась","text":"%hive\nSHOW DATABASES;","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:10:22+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"database_name":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"database_name\naastafurov\naastafurov_staging\naastafurov_test\nabondarev_datamart\nabondarev_datamart_opt\nabondarev_staging\nabondarev_staging_opt\nabondarev_test_db\nagolubev_dwh\nagolubev_staging\nagre_staging\nailexstading_1\nailexstaging\nakhmetov_staging\naleks_sngn_project\naleks_sngn_result\naleks_sngn_staging\nalekseyzelepukin\nalekseyzelepukin_staging\nalekseyzelepukin_test\nalex_zh_slack_staging\nandreynovikov_snowflake\nandreynovikov_staging\nannabys_staging\nannadb_test\nantark94_final\nantark94staging\napavlenko_staging\nariella_general\nariella_nobels\nariellas_staging\nblokhinns_staging\nchaynichkova_pr\nchaynichkova_sf\nchaynichkova_staging\nchaynichkova_staging5\ncppmyjob_staging\ncppmyjob_staging_5\ncppmyjob_warehouse\ncppmyjob_warehouse_5\ndbelyakov\ndbelyakov_staging\ndbelyakov_test\ndbelyakov_tests_x\ndefault\ndt_01\ndudukina_staging\ndzhuikov22_staging\ndzubov\ndzubov_staging\ndzubovstaging\neta_staging\neta_target\neta_test\nfathersdb\nfirsova\nfirsova_sv\ng0661504490staging\ngr_snowflake\ngr_staging\ngribunin_staging\ngribunin_star_and_ds\nia_db\nia_staging\nia_staging_6\nia_test\nialexeeva_staging\nianvroman_staging\nigor_01\nigor_k_410\nigor_k_staging\nigordb\nigork_dwh\nigork_staging515\nillya_step\nivan_kudashkin_staging\njugo_6_staging\njugo_dwh_5\njugo_gr\njugo_staging\njugo_staging_5\njugo_viens\nkaluginaev_test\nkaluginaev_test2\nkdstagin\nkdstaging\nkdstaging_target\nkdstaging_test\nkhaa_staging\nkhlopotin_snowflake\nkhlopotin_snowflake_regular\nkhlopotin_staging_regular\nkhodykin_staging\nkhudaleeva\nkhudaleeva_dwh\nkhudaleeva_st\nkhudaleeva_staging\nklantratovstaging\nknyazev\nknyazev_staging\nkorabelschikov_staging\nkorpachev_staging\nkristina_dudukina_staging\nkuzps_test_db\nlifirenko\nlifirenko_formats\nlifirenko_raw\nlifirenko_snowflake\nlifirenko_staging\nlifirenko_test\nloboda_staging\nlyudmila_cheshikhina_staging\nmaleksiunina_staging\nmaleksiunina_temp\nmalkhanova_staging\nmarkova_staging\nmarsel_robertovich_db\nmarsel_robertovich_db5\nmarsel_robertovich_staging\nmarsel_robertovich_staging5\nmbs_test\nmikhnov_staging\nmila_ches_staging\nmk_test\nmona_staging\nmrezakov_dwh_step5\nmrezakov_staging\nmrezakov_staging_step5\nmrezakov_star_and_ds\nmzhurbin_staging\nnbl_kh\nnovikov_andrey_phones\noagapov_staging\nolsapozhnikov_dwh_5\nolsapozhnikov_snowflake\nolsapozhnikov_staging\nolsapozhnikov_staging_5\np_staging\npae_db\npae_staging\npae_staging2\npbulavin_ds\npbulavin_dwh_5\npbulavin_staging\npbulavin_staging_5\npcdreams\npcdreams_staging\npetukhov_staging\npigidser\npigidser_datamart\npigidser_staging\npind\npind_staging\npismennii_rg_test_db\npkond_db_test\npkond_sqoop_test\npshenichnikov_staging\npshenichtmp\nrand1989_nobels_new\nrand_db_test\nrand_nobels\nrand_snowflake_6\nrand_staging\nrand_staging_6\nrand_staging_new\nred_staging\nred_staging_snowflake\nred_stagingg\nsavinov_staging\nschebola_mart\nserebrovdm_db\nserebrovdm_staging\nserguei_k\nserguei_k_staging\nserguei_k_test\nsf_de_mzhurbin\nshchepilov_staging\nsisemenishchev_staging\nsokaa\nsokaa_staging\nsokolov_im_5\nsokolov_im_6_staging\nsokolov_im_db\nsokolov_im_nobel\nsokolov_im_staging\nsokolov_im_staging_5\nsoldatova_staging\nsr_test\nstaging\nstaging_khaa\nstaging_kuzmenko\nstaging_sashpo74\nstas_db\nstas_snowflake_6\nstas_staging_6\nstas_test\nstas_test_db\nstaschebola_datamart_opt\nstaschebola_staging\nstaschebola_staging_opt\nstastest\nsudmal_db\nsudmal_db_5\nsudmal_file_formats\nsudmalstaging\nsudmalstaging5\nsusiak_db\ntashikk_staging\ntest\nthebigm\ntomarovskiy_staging\ntuidmebayev_da\ntuimebayev_da\ntuimebayev_staging\ntva_proj\nurzhumtsev_staging\nv_druzhinin\nvandriichuk\nvashkovich_ds\nvashkovich_dwh_step5\nvashkovich_staging\nvashkovich_staging5\nvikafeliksovna_staging\nvjatchanin_staging\nvorontsov_staging\nxmtlzoo_staginh\nyessen\nyoineko_warehouse\nyoinekostaging\nzh_lib\n"}]},"apps":[],"jobName":"paragraph_1617620615982_-852656557","id":"20210329-173445_2096230226","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17287","dateFinished":"2021-04-05T11:10:22+0000","dateStarted":"2021-04-05T11:10:22+0000"},{"text":"%md\n### 1.4 Копирование таблицы с помощью скрипта","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:35+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>1.4 Копирование таблицы с помощью скрипта</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620615985_970767628","id":"20210330-045903_557421073","dateCreated":"2021-04-05T11:03:35+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17288"},{"title":"1.4.1 Запускаем скрипт","text":"tabName=\"phones\"\ndbName=\"vandriichuk\"\n\n./vandriichuk/sqoopImport.sh $tabName $dbName","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:10:50+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Importing phones table into database vandriichuk with sqoop import...\nWarning: /usr/lib/sqoop/bin/../../accumulo does not exist! Accumulo imports will fail.\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\nWARNING: HADOOP_PREFIX has been replaced by HADOOP_HOME. Using value of HADOOP_PREFIX.\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/lib/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/lib/hive/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]\n2021-04-05 11:10:55,395 INFO sqoop.Sqoop: Running Sqoop version: 1.4.7\n2021-04-05 11:10:55,449 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\n2021-04-05 11:10:55,450 INFO tool.BaseSqoopTool: Using Hive-specific delimiters for output. You can override\n2021-04-05 11:10:55,450 INFO tool.BaseSqoopTool: delimiters with --fields-terminated-by, etc.\n2021-04-05 11:10:55,584 INFO manager.MySQLManager: Preparing to use a MySQL streaming resultset.\n2021-04-05 11:10:55,592 INFO tool.CodeGenTool: Beginning code generation\n2021-04-05 11:10:55,988 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `phones` AS t LIMIT 1\n2021-04-05 11:10:56,025 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `phones` AS t LIMIT 1\n2021-04-05 11:10:56,033 INFO orm.CompilationManager: HADOOP_MAPRED_HOME is /usr/lib/hadoop-mapreduce\nNote: /tmp/sqoop-zeppelin/compile/6de077321934842a4dc3626cf92aa4cc/phones.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2021-04-05 11:10:58,252 INFO orm.CompilationManager: Writing jar file: /tmp/sqoop-zeppelin/compile/6de077321934842a4dc3626cf92aa4cc/phones.jar\n2021-04-05 11:10:58,267 WARN manager.MySQLManager: It looks like you are importing from mysql.\n2021-04-05 11:10:58,267 WARN manager.MySQLManager: This transfer can be faster! Use the --direct\n2021-04-05 11:10:58,267 WARN manager.MySQLManager: option to exercise a MySQL-specific fast path.\n2021-04-05 11:10:58,267 INFO manager.MySQLManager: Setting zero DATETIME behavior to convertToNull (mysql)\n2021-04-05 11:10:58,274 INFO mapreduce.ImportJobBase: Beginning import of phones\n2021-04-05 11:10:58,275 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address\n2021-04-05 11:10:58,529 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar\n2021-04-05 11:10:59,144 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps\n2021-04-05 11:10:59,379 INFO client.RMProxy: Connecting to ResourceManager at adh-master/10.93.1.9:8032\n2021-04-05 11:10:59,558 INFO client.AHSProxy: Connecting to Application History server at adh-master/10.93.1.9:10200\n2021-04-05 11:11:00,258 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /user/zeppelin/.staging/job_1589890047834_2195\n2021-04-05 11:11:01,877 INFO db.DBInputFormat: Using read commited transaction isolation\n2021-04-05 11:11:01,947 INFO mapreduce.JobSubmitter: number of splits:1\n2021-04-05 11:11:02,101 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1589890047834_2195\n2021-04-05 11:11:02,103 INFO mapreduce.JobSubmitter: Executing with tokens: []\n2021-04-05 11:11:02,347 INFO conf.Configuration: resource-types.xml not found\n2021-04-05 11:11:02,349 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'.\n2021-04-05 11:11:02,420 INFO impl.YarnClientImpl: Submitted application application_1589890047834_2195\n2021-04-05 11:11:02,463 INFO mapreduce.Job: The url to track the job: http://adh-master:8088/proxy/application_1589890047834_2195/\n2021-04-05 11:11:02,464 INFO mapreduce.Job: Running job: job_1589890047834_2195\n2021-04-05 11:11:09,576 INFO mapreduce.Job: Job job_1589890047834_2195 running in uber mode : false\n2021-04-05 11:11:09,577 INFO mapreduce.Job:  map 0% reduce 0%\n2021-04-05 11:11:15,643 INFO mapreduce.Job:  map 100% reduce 0%\n2021-04-05 11:11:15,655 INFO mapreduce.Job: Job job_1589890047834_2195 completed successfully\n2021-04-05 11:11:15,773 INFO mapreduce.Job: Counters: 32\n\tFile System Counters\n\t\tFILE: Number of bytes read=0\n\t\tFILE: Number of bytes written=229127\n\t\tFILE: Number of read operations=0\n\t\tFILE: Number of large read operations=0\n\t\tFILE: Number of write operations=0\n\t\tHDFS: Number of bytes read=87\n\t\tHDFS: Number of bytes written=29\n\t\tHDFS: Number of read operations=6\n\t\tHDFS: Number of large read operations=0\n\t\tHDFS: Number of write operations=2\n\tJob Counters \n\t\tLaunched map tasks=1\n\t\tOther local map tasks=1\n\t\tTotal time spent by all maps in occupied slots (ms)=3479\n\t\tTotal time spent by all reduces in occupied slots (ms)=0\n\t\tTotal time spent by all map tasks (ms)=3479\n\t\tTotal vcore-milliseconds taken by all map tasks=3479\n\t\tTotal megabyte-milliseconds taken by all map tasks=3562496\n\tMap-Reduce Framework\n\t\tMap input records=2\n\t\tMap output records=2\n\t\tInput split bytes=87\n\t\tSpilled Records=0\n\t\tFailed Shuffles=0\n\t\tMerged Map outputs=0\n\t\tGC time elapsed (ms)=87\n\t\tCPU time spent (ms)=1220\n\t\tPhysical memory (bytes) snapshot=233594880\n\t\tVirtual memory (bytes) snapshot=2811932672\n\t\tTotal committed heap usage (bytes)=241172480\n\t\tPeak Map Physical memory (bytes)=233594880\n\t\tPeak Map Virtual memory (bytes)=2811932672\n\tFile Input Format Counters \n\t\tBytes Read=0\n\tFile Output Format Counters \n\t\tBytes Written=29\n2021-04-05 11:11:15,781 INFO mapreduce.ImportJobBase: Transferred 29 bytes in 16.6248 seconds (1.7444 bytes/sec)\n2021-04-05 11:11:15,785 INFO mapreduce.ImportJobBase: Retrieved 2 records.\n2021-04-05 11:11:15,785 INFO mapreduce.ImportJobBase: Publishing Hive/Hcat import job data to Listeners for table phones\n2021-04-05 11:11:15,833 INFO manager.SqlManager: Executing SQL statement: SELECT t.* FROM `phones` AS t LIMIT 1\n2021-04-05 11:11:15,849 INFO hive.HiveImport: Loading uploaded data into Hive\n2021-04-05 11:11:15,899 INFO conf.HiveConf: Found configuration file file:/etc/hive/conf/hive-site.xml\n2021-04-05 11:11:20,033 main ERROR Could not register mbeans java.security.AccessControlException: access denied (\"javax.management.MBeanTrustPermission\" \"register\")\n\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:585)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.checkMBeanTrustPermission(DefaultMBeanServerInterceptor.java:1848)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:322)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\n\tat org.apache.logging.log4j.core.jmx.Server.register(Server.java:389)\n\tat org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:167)\n\tat org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:140)\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:556)\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:261)\n\tat org.apache.logging.log4j.core.async.AsyncLoggerContext.start(AsyncLoggerContext.java:87)\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:240)\n\tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n\tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:131)\n\tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:101)\n\tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:188)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jDefault(LogUtils.java:173)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jCommon(LogUtils.java:106)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4jCommon(LogUtils.java:98)\n\tat org.apache.hadoop.hive.common.LogUtils.initHiveLog4j(LogUtils.java:81)\n\tat org.apache.hadoop.hive.cli.CliDriver.run(CliDriver.java:699)\n\tat org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:683)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.sqoop.hive.HiveImport.executeScript(HiveImport.java:331)\n\tat org.apache.sqoop.hive.HiveImport.importTable(HiveImport.java:241)\n\tat org.apache.sqoop.tool.ImportTool.importTable(ImportTool.java:537)\n\tat org.apache.sqoop.tool.ImportTool.run(ImportTool.java:628)\n\tat org.apache.sqoop.Sqoop.run(Sqoop.java:147)\n\tat org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:76)\n\tat org.apache.sqoop.Sqoop.runSqoop(Sqoop.java:183)\n\tat org.apache.sqoop.Sqoop.runTool(Sqoop.java:234)\n\tat org.apache.sqoop.Sqoop.runTool(Sqoop.java:243)\n\tat org.apache.sqoop.Sqoop.main(Sqoop.java:252)\n\nHive Session ID = 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:20,155 INFO SessionState: Hive Session ID = 96f89e67-b331-4d08-8218-5260829b54d0\n\nLogging initialized using configuration in jar:file:/usr/lib/hive/lib/hive-common-3.1.1.jar!/hive-log4j2.properties Async: true\n2021-04-05 11:11:20,327 INFO SessionState: \nLogging initialized using configuration in jar:file:/usr/lib/hive/lib/hive-common-3.1.1.jar!/hive-log4j2.properties Async: true\n2021-04-05 11:11:20,386 INFO session.SessionState: Created HDFS directory: /tmp/hive/zeppelin/96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:20,482 INFO session.SessionState: Created local directory: /tmp/zeppelin/96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:20,487 INFO session.SessionState: Created HDFS directory: /tmp/hive/zeppelin/96f89e67-b331-4d08-8218-5260829b54d0/_tmp_space.db\n2021-04-05 11:11:20,511 INFO conf.HiveConf: Using the default value passed in for log id: 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:20,511 INFO session.SessionState: Updating thread name to 96f89e67-b331-4d08-8218-5260829b54d0 main\n2021-04-05 11:11:23,445 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:23,508 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 1\n2021-04-05 11:11:23,560 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:23,560 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\nHive Session ID = aeac0ebe-434e-470a-ba8a-c5da53f47f1e\n2021-04-05 11:11:24,350 INFO SessionState: Hive Session ID = aeac0ebe-434e-470a-ba8a-c5da53f47f1e\n2021-04-05 11:11:24,351 INFO conf.HiveConf: Using the default value passed in for log id: 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:24,362 INFO session.SessionState: Created HDFS directory: /tmp/hive/zeppelin/aeac0ebe-434e-470a-ba8a-c5da53f47f1e\n2021-04-05 11:11:24,364 INFO session.SessionState: Created local directory: /tmp/zeppelin/aeac0ebe-434e-470a-ba8a-c5da53f47f1e\n2021-04-05 11:11:24,369 INFO session.SessionState: Created HDFS directory: /tmp/hive/zeppelin/aeac0ebe-434e-470a-ba8a-c5da53f47f1e/_tmp_space.db\n2021-04-05 11:11:25,145 INFO ql.Driver: Compiling command(queryId=zeppelin_20210405111124_78275c76-7957-4924-9540-fcf062bdb3a2): CREATE TABLE IF NOT EXISTS `vandriichuk.phones` ( `name` STRING, `phone` STRING) COMMENT 'Imported by sqoop on 2021/04/05 11:11:15' ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\001' LINES TERMINATED BY '\\012' STORED AS TEXTFILE\n2021-04-05 11:11:25,562 INFO metadata.HiveMaterializedViewsRegistry: Materialized views registry has been initialized\n2021-04-05 11:11:27,817 INFO ql.Driver: Concurrency mode is disabled, not creating a lock manager\n2021-04-05 11:11:27,833 INFO parse.CalcitePlanner: Starting Semantic Analysis\n2021-04-05 11:11:27,904 INFO sqlstd.SQLStdHiveAccessController: Created SQLStdHiveAccessController for session context : HiveAuthzSessionContext [sessionString=96f89e67-b331-4d08-8218-5260829b54d0, clientType=HIVECLI]\n2021-04-05 11:11:27,922 WARN session.SessionState: METASTORE_FILTER_HOOK will be ignored, since hive.security.authorization.manager is set to instance of HiveAuthorizerFactory.\n2021-04-05 11:11:27,922 INFO metastore.HiveMetaStoreClient: Mestastore configuration metastore.filter.hook changed from org.apache.hadoop.hive.metastore.DefaultMetaStoreFilterHookImpl to org.apache.hadoop.hive.ql.security.authorization.plugin.AuthorizationMetaStoreFilterHook\n2021-04-05 11:11:27,941 INFO metastore.HiveMetaStoreClient: Closed a connection to metastore, current connections: 0\n2021-04-05 11:11:27,943 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:27,944 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 1\n2021-04-05 11:11:27,946 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:27,946 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\n2021-04-05 11:11:28,019 INFO parse.CalcitePlanner: Creating table vandriichuk.phones position=27\n2021-04-05 11:11:28,100 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:28,102 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 2\n2021-04-05 11:11:28,105 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:28,105 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\n2021-04-05 11:11:28,321 INFO ql.Driver: Semantic Analysis Completed (retrial = false)\n2021-04-05 11:11:28,366 INFO ql.Driver: Returning Hive schema: Schema(fieldSchemas:null, properties:null)\n2021-04-05 11:11:28,654 INFO ql.Driver: EXPLAIN output for queryid zeppelin_20210405111124_78275c76-7957-4924-9540-fcf062bdb3a2 : STAGE DEPENDENCIES:\n  Stage-0 is a root stage [DDL]\n\nSTAGE PLANS:\n  Stage: Stage-0\n      Create Table Operator:\n        Create Table\n          columns: name string, phone string\n          comment: Imported by sqoop on 2021/04/05 11:11:15\n          field delimiter: \u0001\n          if not exists: true\n          input format: org.apache.hadoop.mapred.TextInputFormat\n          line delimiter: \n\n          output format: org.apache.hadoop.hive.ql.io.IgnoreKeyTextOutputFormat\n          serde name: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n          name: vandriichuk.phones\n\n\n2021-04-05 11:11:28,658 INFO ql.Driver: Completed compiling command(queryId=zeppelin_20210405111124_78275c76-7957-4924-9540-fcf062bdb3a2); Time taken: 3.713 seconds\n2021-04-05 11:11:28,658 INFO reexec.ReExecDriver: Execution #1 of query\n2021-04-05 11:11:28,662 INFO ql.Driver: Concurrency mode is disabled, not creating a lock manager\n2021-04-05 11:11:28,662 INFO ql.Driver: Executing command(queryId=zeppelin_20210405111124_78275c76-7957-4924-9540-fcf062bdb3a2): CREATE TABLE IF NOT EXISTS `vandriichuk.phones` ( `name` STRING, `phone` STRING) COMMENT 'Imported by sqoop on 2021/04/05 11:11:15' ROW FORMAT DELIMITED FIELDS TERMINATED BY '\\001' LINES TERMINATED BY '\\012' STORED AS TEXTFILE\n2021-04-05 11:11:28,729 INFO ql.Driver: Starting task [Stage-0:DDL] in serial mode\n2021-04-05 11:11:28,733 INFO metastore.HiveMetaStoreClient: Mestastore configuration metastore.filter.hook changed from org.apache.hadoop.hive.ql.security.authorization.plugin.AuthorizationMetaStoreFilterHook to org.apache.hadoop.hive.metastore.DefaultMetaStoreFilterHookImpl\n2021-04-05 11:11:28,733 INFO metastore.HiveMetaStoreClient: Closed a connection to metastore, current connections: 1\n2021-04-05 11:11:29,188 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:29,189 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 2\n2021-04-05 11:11:29,191 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:29,191 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\n2021-04-05 11:11:29,298 INFO ql.Driver: Completed executing command(queryId=zeppelin_20210405111124_78275c76-7957-4924-9540-fcf062bdb3a2); Time taken: 0.636 seconds\nOK\n2021-04-05 11:11:29,298 INFO ql.Driver: OK\n2021-04-05 11:11:29,299 INFO ql.Driver: Concurrency mode is disabled, not creating a lock manager\nTime taken: 4.362 seconds\n2021-04-05 11:11:29,320 INFO CliDriver: Time taken: 4.362 seconds\n2021-04-05 11:11:29,337 INFO conf.HiveConf: Using the default value passed in for log id: 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:29,338 INFO session.SessionState: Resetting thread name to  main\n2021-04-05 11:11:29,338 INFO conf.HiveConf: Using the default value passed in for log id: 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:29,338 INFO session.SessionState: Updating thread name to 96f89e67-b331-4d08-8218-5260829b54d0 main\n2021-04-05 11:11:29,340 INFO ql.Driver: Compiling command(queryId=zeppelin_20210405111129_6218fce6-4e32-4f6d-850a-d9da953735dc): \nLOAD DATA INPATH 'hdfs://adh-master:8020/user/zeppelin/phones' INTO TABLE `vandriichuk.phones`\n2021-04-05 11:11:29,396 INFO metastore.HiveMetaStoreClient: Mestastore configuration metastore.filter.hook changed from org.apache.hadoop.hive.metastore.DefaultMetaStoreFilterHookImpl to org.apache.hadoop.hive.ql.security.authorization.plugin.AuthorizationMetaStoreFilterHook\n2021-04-05 11:11:29,397 INFO metastore.HiveMetaStoreClient: Closed a connection to metastore, current connections: 1\n2021-04-05 11:11:29,397 INFO ql.Driver: Concurrency mode is disabled, not creating a lock manager\n2021-04-05 11:11:29,411 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:29,413 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 2\n2021-04-05 11:11:29,414 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:29,414 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\n2021-04-05 11:11:29,588 INFO ql.Driver: Semantic Analysis Completed (retrial = false)\n2021-04-05 11:11:29,588 INFO ql.Driver: Returning Hive schema: Schema(fieldSchemas:null, properties:null)\n2021-04-05 11:11:29,615 INFO ql.Driver: EXPLAIN output for queryid zeppelin_20210405111129_6218fce6-4e32-4f6d-850a-d9da953735dc : STAGE DEPENDENCIES:\n  Stage-0 is a root stage [MOVE]\n  Stage-1 depends on stages: Stage-0 [STATS]\n\nSTAGE PLANS:\n  Stage: Stage-0\n    Move Operator\n      tables:\n          replace: false\n          source: hdfs://adh-master:8020/user/zeppelin/phones\n          table:\n              input format: org.apache.hadoop.mapred.TextInputFormat\n              output format: org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n              properties:\n                COLUMN_STATS_ACCURATE {\"BASIC_STATS\":\"true\",\"COLUMN_STATS\":{\"name\":\"true\",\"phone\":\"true\"}}\n                bucket_count -1\n                bucketing_version 2\n                column.name.delimiter ,\n                columns name,phone\n                columns.comments \n                columns.types string:string\n                comment Imported by sqoop on 2021/04/05 11:11:15\n                field.delim \u0001\n                file.inputformat org.apache.hadoop.mapred.TextInputFormat\n                file.outputformat org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat\n                line.delim \n\n                location hdfs://adh-master:8020/apps/hive/warehouse/vandriichuk.db/phones\n                name vandriichuk.phones\n                numFiles 0\n                numRows 0\n                rawDataSize 0\n                serialization.ddl struct phones { string name, string phone}\n                serialization.format \u0001\n                serialization.lib org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n                totalSize 0\n                transient_lastDdlTime 1617621089\n              serde: org.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\n              name: vandriichuk.phones\n\n  Stage: Stage-1\n    Stats Work\n      Basic Stats Work:\n\n\n2021-04-05 11:11:29,615 INFO ql.Driver: Completed compiling command(queryId=zeppelin_20210405111129_6218fce6-4e32-4f6d-850a-d9da953735dc); Time taken: 0.275 seconds\n2021-04-05 11:11:29,616 INFO reexec.ReExecDriver: Execution #1 of query\n2021-04-05 11:11:29,616 INFO ql.Driver: Concurrency mode is disabled, not creating a lock manager\n2021-04-05 11:11:29,616 INFO ql.Driver: Executing command(queryId=zeppelin_20210405111129_6218fce6-4e32-4f6d-850a-d9da953735dc): \nLOAD DATA INPATH 'hdfs://adh-master:8020/user/zeppelin/phones' INTO TABLE `vandriichuk.phones`\n2021-04-05 11:11:29,618 INFO ql.Driver: Starting task [Stage-0:MOVE] in serial mode\n2021-04-05 11:11:29,619 INFO metastore.HiveMetaStoreClient: Closed a connection to metastore, current connections: 1\nLoading data to table vandriichuk.phones\n2021-04-05 11:11:29,619 INFO exec.Task: Loading data to table vandriichuk.phones from hdfs://adh-master:8020/user/zeppelin/phones\n2021-04-05 11:11:29,621 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:29,623 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 2\n2021-04-05 11:11:29,624 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:29,624 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\n2021-04-05 11:11:29,829 INFO ql.Driver: Starting task [Stage-1:STATS] in serial mode\n2021-04-05 11:11:29,830 INFO metastore.HiveMetaStoreClient: Closed a connection to metastore, current connections: 1\n2021-04-05 11:11:29,830 INFO stats.BasicStatsTask: Executing stats task\n2021-04-05 11:11:29,846 INFO metastore.HiveMetaStoreClient: Trying to connect to metastore with URI thrift://adh-master.ru-central1.internal:9083\n2021-04-05 11:11:29,848 INFO metastore.HiveMetaStoreClient: Opened a connection to metastore, current connections: 2\n2021-04-05 11:11:29,849 INFO metastore.HiveMetaStoreClient: Connected to metastore.\n2021-04-05 11:11:29,849 INFO metastore.RetryingMetaStoreClient: RetryingMetaStoreClient proxy=class org.apache.hadoop.hive.ql.metadata.SessionHiveMetaStoreClient ugi=zeppelin (auth:SIMPLE) retries=1 delay=1 lifetime=0\n2021-04-05 11:11:29,932 INFO stats.BasicStatsTask: Table vandriichuk.phones stats: [numFiles=1, numRows=0, totalSize=29, rawDataSize=0]\n2021-04-05 11:11:29,933 INFO ql.Driver: Completed executing command(queryId=zeppelin_20210405111129_6218fce6-4e32-4f6d-850a-d9da953735dc); Time taken: 0.317 seconds\nOK\n2021-04-05 11:11:29,933 INFO ql.Driver: OK\n2021-04-05 11:11:29,933 INFO ql.Driver: Concurrency mode is disabled, not creating a lock manager\nTime taken: 0.593 seconds\n2021-04-05 11:11:29,955 INFO CliDriver: Time taken: 0.593 seconds\n2021-04-05 11:11:29,973 INFO conf.HiveConf: Using the default value passed in for log id: 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:29,973 INFO session.SessionState: Resetting thread name to  main\n2021-04-05 11:11:29,973 INFO conf.HiveConf: Using the default value passed in for log id: 96f89e67-b331-4d08-8218-5260829b54d0\n2021-04-05 11:11:29,985 INFO session.SessionState: Deleted directory: /tmp/hive/zeppelin/96f89e67-b331-4d08-8218-5260829b54d0 on fs with scheme hdfs\n2021-04-05 11:11:29,986 INFO session.SessionState: Deleted directory: /tmp/zeppelin/96f89e67-b331-4d08-8218-5260829b54d0 on fs with scheme file\n2021-04-05 11:11:29,986 INFO metastore.HiveMetaStoreClient: Closed a connection to metastore, current connections: 1\n2021-04-05 11:11:29,986 INFO hive.HiveImport: Hive import complete.\n2021-04-05 11:11:29,989 INFO hive.HiveImport: Export directory is contains the _SUCCESS file only, removing the directory.\nDone\n"}]},"apps":[],"jobName":"paragraph_1617620615988_-793139485","id":"20210329-173400_884134949","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17289","dateFinished":"2021-04-05T11:11:30+0000","dateStarted":"2021-04-05T11:10:50+0000"},{"title":"1.4.2 Проверяем, что таблица скопировалась успешно","text":"%hive\nSELECT * FROM vandriichuk.phones","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:11:36+0000","config":{"editorSetting":{"language":"sql","editOnDblClick":false,"completionSupport":true},"colWidth":12,"editorMode":"ace/mode/sql","fontSize":9,"title":true,"results":{"0":{"graph":{"mode":"table","height":300,"optionOpen":false,"setting":{"table":{"tableGridState":{},"tableColumnTypeState":{"names":{"phones.name":"string","phones.phone":"string"},"updated":false},"tableOptionSpecHash":"[{\"name\":\"useFilter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable filter for columns\"},{\"name\":\"showPagination\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable pagination for better navigation\"},{\"name\":\"showAggregationFooter\",\"valueType\":\"boolean\",\"defaultValue\":false,\"widget\":\"checkbox\",\"description\":\"Enable a footer for displaying aggregated values\"}]","tableOptionValue":{"useFilter":false,"showPagination":false,"showAggregationFooter":false},"updated":false,"initialized":false}},"commonSetting":{}}}},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TABLE","data":"phones.name\tphones.phone\nmike\t123456789\npete\t99999999\n"}]},"apps":[],"jobName":"paragraph_1617620615991_1012027454","id":"20210329-173713_1785150027","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17290","dateFinished":"2021-04-05T11:11:37+0000","dateStarted":"2021-04-05T11:11:36+0000"},{"text":"%md\n### Упражнение 2. Создайте утилитный bash-скрипт для выполнения sql команды Hive с использованием beeline","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:35+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<h3>Упражнение 2. Создайте утилитный bash-скрипт для выполнения sql команды Hive с использованием beeline</h3>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620615993_-415410826","id":"20210330-060717_1233969180","dateCreated":"2021-04-05T11:03:35+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17291"},{"title":"2.1 Создадим скрипт с помощью команды cat","text":"cat > ./vandriichuk/execHiveCmd.sh <<EOF\n#!/bin/bash\n#_______________________________________________________________________________________#\n#                               execHiveCmd.sh                                          #\n#---------------------------------------------------------------------------------------#\n# Автор: Виктор Андрийчук (v.andriichuk@gmail.com)                                      #\n# Описание скрипта: выполняет команду Hive, перенаправляет вывод, проверяет результат   # \n#_______________________________________________________________________________________#\nfull_name_script=\\$0\n\necho \"Старт выполнения скрипта \\$full_name_script\"\necho \"-------------------------------------------\"\nhive_ql=\\$1\nshort_name=\\$(basename \\$full_name_script) \n\ntmp_file=\"./vandriichuk/sql.txt\"\n\nprintf \"1. Hive QL команда: (\\$hive_ql) .............\"\n\necho -e \"!connect jdbc:hive2://10.93.1.9:10000 hive eee;\\n\\$hive_ql;\" > \\$tmp_file\n\nbeeline -f \\$tmp_file 1> vandriichuk_execHiveCmd_stdout.txt 2> vandriichuk_execHiveCmd_stderr.txt\n\nif [ \\$? -ne \"0\" ]\nthen\n    printf \"Не выполнена. !!!!!!!!Ахтунг!!!!!!! Ошибка выполнения команды.\\n\"\n    printf \"   Проверьте лог-файл ошибок vandriichuk_execHiveCmd_stderr.txt\\n\\n\"\n    exit 1\nelse\n    printf \"Выполнена успешно.\\n\"\n    printf \"   При желании можно проверить лог-файл вывода выполнения команды в файле vandriichuk_execHiveCmd_stdout.txt\\n\\n\"\nfi\n\nprintf \"2. Удаление временного файла \\$tmp_file .............\"\nrm \\$tmp_file\nprintf \"Выполнено.\\n\\n\"\n\necho \"3. Скрипт \\$short_name завершён.\"\n\nEOF\n\n\n","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:13:31+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"editorHide":false,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1617620615996_768051938","id":"20210330-060902_1890607221","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17292","dateFinished":"2021-04-05T11:13:31+0000","dateStarted":"2021-04-05T11:13:31+0000"},{"title":"2.2 Проверим, что всё записалось корректно","text":"cat ./vandriichuk/execHiveCmd.sh","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:13:57+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"#!/bin/bash\n#_______________________________________________________________________________________#\n#                               execHiveCmd.sh                                          #\n#---------------------------------------------------------------------------------------#\n# Автор: Виктор Андрийчук (v.andriichuk@gmail.com)                                      #\n# Описание скрипта: выполняет команду Hive, перенаправляет вывод, проверяет результат   # \n#_______________________________________________________________________________________#\nfull_name_script=$0\n\necho \"Старт выполнения скрипта $full_name_script\"\necho \"-------------------------------------------\"\nhive_ql=$1\nshort_name=$(basename $full_name_script) \n\ntmp_file=\"./vandriichuk/sql.txt\"\n\nprintf \"1. Hive QL команда: ($hive_ql) .............\"\n\necho -e \"!connect jdbc:hive2://10.93.1.9:10000 hive eee;\\n$hive_ql;\" > $tmp_file\n\nbeeline -f $tmp_file 1> vandriichuk_execHiveCmd_stdout.txt 2> vandriichuk_execHiveCmd_stderr.txt\n\nif [ $? -ne \"0\" ]\nthen\n    printf \"Не выполнена. !!!!!!!!Ахтунг!!!!!!! Ошибка выполнения команды.\\n\"\n    printf \"   Проверьте лог-файл ошибок vandriichuk_execHiveCmd_stderr.txt\\n\\n\"\n    exit 1\nelse\n    printf \"Выполнена успешно.\\n\"\n    printf \"   При желании можно проверить лог-файл вывода выполнения команды в файле vandriichuk_execHiveCmd_stdout.txt\\n\\n\"\nfi\n\nprintf \"2. Удаление временного файла $tmp_file .............\"\nrm $tmp_file\nprintf \"Выполнено.\\n\\n\"\n\necho \"3. Скрипт $short_name завершён.\"\n\n"}]},"apps":[],"jobName":"paragraph_1617620615998_-1021261988","id":"20210330-103213_496785385","dateCreated":"2021-04-05T11:03:35+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17293","dateFinished":"2021-04-05T11:13:57+0000","dateStarted":"2021-04-05T11:13:57+0000"},{"title":"2.3 Добавим разрешения на исполнение файла","text":"chmod 755 ./vandriichuk/execHiveCmd.sh","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:14:03+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1617620616001_1341709687","id":"20210330-103447_788888267","dateCreated":"2021-04-05T11:03:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17294","dateFinished":"2021-04-05T11:14:03+0000","dateStarted":"2021-04-05T11:14:03+0000"},{"title":"2.4 Выполняем скрипт с корректной командой","text":"./vandriichuk/execHiveCmd.sh \"select * from vandriichuk.phones\"","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:14:11+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"Старт выполнения скрипта ./vandriichuk/execHiveCmd.sh\n-------------------------------------------\n1. Hive QL команда: (select * from vandriichuk.phones) .............Выполнена успешно.\n   При желании можно проверить лог-файл вывода выполнения команды в файле vandriichuk_execHiveCmd_stdout.txt\n\n2. Удаление временного файла ./vandriichuk/sql.txt .............Выполнено.\n\n3. Скрипт execHiveCmd.sh завершён.\n"}]},"apps":[],"jobName":"paragraph_1617620616004_725777625","id":"20210330-103300_1954150358","dateCreated":"2021-04-05T11:03:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17295","dateFinished":"2021-04-05T11:14:16+0000","dateStarted":"2021-04-05T11:14:11+0000"},{"title":"2.5 Проверяем вывод выполнения команды записанной в файл","text":"cat vandriichuk_execHiveCmd_stdout.txt","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:14:24+0000","config":{"tableHide":false,"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"+--------------+---------------+\n| phones.name  | phones.phone  |\n+--------------+---------------+\n| mike         | 123456789     |\n| pete         | 99999999      |\n+--------------+---------------+\n"}]},"apps":[],"jobName":"paragraph_1617620616007_1311600310","id":"20210330-103658_1708466183","dateCreated":"2021-04-05T11:03:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17296","dateFinished":"2021-04-05T11:14:25+0000","dateStarted":"2021-04-05T11:14:25+0000"},{"title":"2.6 Проверяем вывод ошибок выполнения команды записанной в файл","text":"cat vandriichuk_execHiveCmd_stderr.txt","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:14:31+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"WARNING: HADOOP_PREFIX has been replaced by HADOOP_HOME. Using value of HADOOP_PREFIX.\nWARNING: HADOOP_PREFIX has been replaced by HADOOP_HOME. Using value of HADOOP_PREFIX.\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/lib/hive/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/lib/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nbeeline> !connect jdbc:hive2://10.93.1.9:10000 hive eee;\nConnecting to jdbc:hive2://10.93.1.9:10000\nConnected to: Apache Hive (version 3.1.1)\nDriver: Hive JDBC (version 3.1.1)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\n0: jdbc:hive2://10.93.1.9:10000> select * from vandriichuk.phones;\nINFO  : Compiling command(queryId=hive_20210405111416_3d05817b-c441-4a6a-b99b-b42cd7a525e1): select * from vandriichuk.phones\nINFO  : Concurrency mode is disabled, not creating a lock manager\nINFO  : Semantic Analysis Completed (retrial = false)\nINFO  : Returning Hive schema: Schema(fieldSchemas:[FieldSchema(name:phones.name, type:string, comment:null), FieldSchema(name:phones.phone, type:string, comment:null)], properties:null)\nINFO  : EXPLAIN output for queryid hive_20210405111416_3d05817b-c441-4a6a-b99b-b42cd7a525e1 : STAGE DEPENDENCIES:\n  Stage-0 is a root stage [FETCH]\n\nSTAGE PLANS:\n  Stage: Stage-0\n    Fetch Operator\n      limit: -1\n      Processor Tree:\n        TableScan\n          alias: phones\n          GatherStats: false\n          Select Operator\n            expressions: name (type: string), phone (type: string)\n            outputColumnNames: _col0, _col1\n            ListSink\n\n\nINFO  : Completed compiling command(queryId=hive_20210405111416_3d05817b-c441-4a6a-b99b-b42cd7a525e1); Time taken: 0.515 seconds\nINFO  : Concurrency mode is disabled, not creating a lock manager\nINFO  : Executing command(queryId=hive_20210405111416_3d05817b-c441-4a6a-b99b-b42cd7a525e1): select * from vandriichuk.phones\nINFO  : Completed executing command(queryId=hive_20210405111416_3d05817b-c441-4a6a-b99b-b42cd7a525e1); Time taken: 0.002 seconds\nINFO  : OK\nINFO  : Concurrency mode is disabled, not creating a lock manager\n2 rows selected (0.627 seconds)\n0: jdbc:hive2://10.93.1.9:10000> \n0: jdbc:hive2://10.93.1.9:10000> Closing: 0: jdbc:hive2://10.93.1.9:10000\n"}]},"apps":[],"jobName":"paragraph_1617620616010_-116271708","id":"20210330-112432_403087207","dateCreated":"2021-04-05T11:03:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17297","dateFinished":"2021-04-05T11:14:32+0000","dateStarted":"2021-04-05T11:14:32+0000"},{"text":"%md\n!Обратите внимание! Несмотря на то что команда была выполнена без ошибок, в файл с ошибками оказался не пустой. Но в нем информации об ошибках нет.","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>!Обратите внимание! Несмотря на то что команда была выполнена без ошибок, в файл с ошибками оказался не пустой. Но в нем информации об ошибках нет.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620616012_1838452183","id":"20210330-122724_752511504","dateCreated":"2021-04-05T11:03:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17298"},{"title":"2.7 Выполняем скрипт с НЕкорректной командой","text":"./vandriichuk/execHiveCmd.sh \"select  from vandriichuk.phones\"","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:14:48+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"ERROR","msg":[{"type":"TEXT","data":"Старт выполнения скрипта ./vandriichuk/execHiveCmd.sh\n-------------------------------------------\n1. Hive QL команда: (select  from vandriichuk.phones) .............Не выполнена. !!!!!!!!Ахтунг!!!!!!! Ошибка выполнения команды.\n   Проверьте лог-файл ошибок vandriichuk_execHiveCmd_stderr.txt\n\n"},{"type":"TEXT","data":"ExitValue: 1"}]},"apps":[],"jobName":"paragraph_1617620616015_1422074907","id":"20210330-103658_983512075","dateCreated":"2021-04-05T11:03:36+0000","status":"ERROR","progressUpdateIntervalMs":500,"$$hashKey":"object:17299","dateFinished":"2021-04-05T11:14:53+0000","dateStarted":"2021-04-05T11:14:48+0000"},{"title":"2.8 Проверяем вывод ошибок выполнения команды записанной в файл","text":"cat vandriichuk_execHiveCmd_stderr.txt","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:14:57+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"WARNING: HADOOP_PREFIX has been replaced by HADOOP_HOME. Using value of HADOOP_PREFIX.\nWARNING: HADOOP_PREFIX has been replaced by HADOOP_HOME. Using value of HADOOP_PREFIX.\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/lib/hive/lib/log4j-slf4j-impl-2.10.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/lib/hadoop/lib/slf4j-log4j12-1.7.25.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\nbeeline> !connect jdbc:hive2://10.93.1.9:10000 hive eee;\nConnecting to jdbc:hive2://10.93.1.9:10000\nConnected to: Apache Hive (version 3.1.1)\nDriver: Hive JDBC (version 3.1.1)\nTransaction isolation: TRANSACTION_REPEATABLE_READ\n0: jdbc:hive2://10.93.1.9:10000> select  from vandriichuk.phones;\nError: Error while compiling statement: FAILED: ParseException line 1:8 cannot recognize input near 'from' 'vandriichuk' '.' in select clause (state=42000,code=40000)\nClosing: 0: jdbc:hive2://10.93.1.9:10000\n"}]},"apps":[],"jobName":"paragraph_1617620616018_-236935547","id":"20210330-111313_931072617","dateCreated":"2021-04-05T11:03:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17300","dateFinished":"2021-04-05T11:14:57+0000","dateStarted":"2021-04-05T11:14:57+0000"},{"text":"%md\nВидим сообщение об ошибке в парсинге строки команды","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Видим сообщение об ошибке в парсинге строки команды</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620616020_-728260222","id":"20210330-123211_1936093307","dateCreated":"2021-04-05T11:03:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17301"},{"title":"2.9 Проверяем вывод результата выполнения команды записанной в файл","text":"cat vandriichuk_execHiveCmd_stdout.txt","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:15:03+0000","config":{"editorSetting":{"language":"sh","editOnDblClick":false,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/sh","fontSize":9,"title":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[]},"apps":[],"jobName":"paragraph_1617620616023_1971243584","id":"20210330-111237_2079302174","dateCreated":"2021-04-05T11:03:36+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:17302","dateFinished":"2021-04-05T11:15:03+0000","dateStarted":"2021-04-05T11:15:03+0000"},{"text":"%md\nФайл пустой так как команда не была выполнена.","user":"v.andriichuk@gmail.com","dateUpdated":"2021-04-05T11:03:36+0000","config":{"tableHide":false,"editorSetting":{"language":"markdown","editOnDblClick":true,"completionSupport":false},"colWidth":12,"editorMode":"ace/mode/markdown","fontSize":9,"editorHide":true,"results":{},"enabled":true},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<div class=\"markdown-body\">\n<p>Файл пустой так как команда не была выполнена.</p>\n</div>"}]},"apps":[],"jobName":"paragraph_1617620616026_1263804765","id":"20210330-123400_1892793644","dateCreated":"2021-04-05T11:03:36+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:17303"}],"name":"vandriichuk/3_8_1 1","id":"2G595EQT9","noteParams":{},"noteForms":{},"angularObjects":{"md:shared_process":[],"python:shared_process":[],"mysql:shared_process":[],"sh:shared_process":[],"hive:shared_process":[]},"config":{"isZeppelinNotebookCronEnable":false,"looknfeel":"default","personalizedMode":"false"},"info":{}}